<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scenario 3 - High School Teacher</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Style for the modal */
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4); /* Black with opacity */
            padding-top: 60px;
        }

        /* Modal content */
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            text-align: center;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* Close button */
        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 25px;
            font-family: Arial, sans-serif;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        /* Modal text style */
        .modal-text {
            font-size: 18px;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Scenario 3: High School Teacher - Select Your Products</h1>
        <p class="scenario-description">
            You are a high school teacher tasked with preparing supplies for an upcoming science project. 
            You have a $50 budget, and the categories to purchase from are: Furniture, Tech, and Classroom Supplies.
        </p>

        <form id="scenario3-form">

            <!-- Furniture Category -->
            <div class="category">
                <h2>Furniture</h2>
                <div class="products">
                    <div class="product">
                        <input type="radio" id="furniture1" name="Selection3F" value="GoodSeat 18\" Chair" data-price="700" required>
                        <label for="furniture1">
                            <img src="images/chair.jpg" alt="GoodSeat 18 Chair">
                            <div class="product-info">
                                <strong>GoodSeat 18" Chair</strong><br>
                                <span class="label">Price:</span> $700<br>
                                <span class="label">Brand:</span> Good Seat<br>
                                <span class="label">Color:</span> Black<br>
                                <span class="label">Size:</span> Seat, Height - 18"<br>
                                <span class="label">Special Feature:</span> Stackable, durable, comfortable<br>
                                <span class="label">Materials:</span> Metal, Foam
                            </div>
                        </label>
                    </div>
                    <div class="product">
                        <input type="radio" id="furniture2" name="Selection3F" value="EcesFurniture 18\" Chair" data-price="840" required>
                        <label for="furniture2">
                            <img src="images/chair.jpg" alt="EcesFurniture 18 Chair">
                            <div class="product-info">
                                <strong>EcesFurniture 18" Chair</strong><br>
                                <span class="label">Price:</span> $840<br>
                                <span class="label">Brand:</span> EcesFurniture<br>
                                <span class="label">Color:</span> Black<br>
                                <span class="label">Size:</span> Seat, Height - 18"<br>
                                <span class="label">Special Feature:</span> Suitable for outdoor use, deep seat bucket and wide back<br>
                                <span class="label">Materials:</span> 75% waste polypropylene and 15% reclaimed wood
                            </div>
                        </label>
                        <div class="sustainability">
                            <span class="sustainability-text">ðŸŒ± Seller is under a sustainability pledge for reducing carbon footprint</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tech Category -->
            <div class="category">
                <h2>Tech</h2>
                <div class="products">
                    <div class="product">
                        <input type="radio" id="tech1" name="Selection3T" value="ABC 15.6\" Portable Laptop" data-price="700" required>
                        <label for="tech1">
                            <img src="images/comp.png" alt="ABC 15.6 Laptop">
                            <div class="product-info">
                                <strong>ABC 15.6" Portable Laptop</strong><br>
                                <span class="label">Price:</span> $700<br>
                                <span class="label">Brand:</span> ABC<br>
                                <span class="label">Color:</span> Black<br>
                                <span class="label">Size:</span> Screen Size - 15.6"<br>
                                <span class="label">Special Feature:</span> High-end laptop with fastest up-to-date hardware, lightweight<br>
                                <span class="label">Materials:</span> Polycarbonate, ABS (Acrylonitrile Butadiene Styrene)
                            </div>
                        </label>
                    </div>
                    <div class="product">
                        <input type="radio" id="tech2" name="Selection3T" value="5-Starâ€™s 15.6\" Portable Laptop" data-price="1200" required>
                        <label for="tech2">
                            <img src="images/comp.png" alt="5-Starâ€™s 15.6 Laptop">
                            <div class="product-info">
                                <strong>5-Starâ€™s 15.6" Portable Laptop</strong><br>
                                <span class="label">Price:</span> $1200<br>
                                <span class="label">Brand:</span> 5-Starâ€™s<br>
                                <span class="label">Color:</span> Black<br>
                                <span class="label">Size:</span> Screen Size - 15.6"<br>
                                <span class="label">Special Feature:</span> High-end laptop with fastest up-to-date hardware + 1 year of Microsoft Office Suite<br>
                                <span class="label">Materials:</span> Non-synthetic bioplastics, recycled aluminum
                            </div>
                        </label>
                        <div class="sustainability">
                            <span class="sustainability-text">ðŸŒ± Seller is under a sustainability pledge for reducing carbon footprint</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Classroom Supplies Category -->
            <div class="category">
                <h2>Classroom Supplies</h2>
                <div class="products">
                    <div class="product">
                        <input type="radio" id="classroom1" name="Selection3C" value="WriteEase Whiteboard Marker" data-price="1.50" required>
                        <label for="classroom1">
                            <img src="images/pen.png" alt="WriteEase Whiteboard Marker">
                            <div class="product-info">
                                <strong>WriteEase Whiteboard Marker</strong><br>
                                <span class="label">Price:</span> $1.50<br>
                                <span class="label">Brand:</span> WriteEase<br>
                                <span class="label">Color:</span> Blue<br>
                                <span class="label">Size:</span> Bullet Tip - 2.5mm<br>
                                <span class="label">Special Feature:</span> Quick-drying, oil-based, low-odor ink<br>
                                <span class="label">Materials:</span> Polypropylene, Synthetic Felt Tip, Polyethylene Cap
                            </div>
                        </label>
                    </div>
                    <div class="product">
                        <input type="radio" id="classroom2" name="Selection3C" value="MarkPro Whiteboard Marker" data-price="3.00" required>
                        <label for="classroom2">
                            <img src="images/pen.png" alt="MarkPro Whiteboard Marker">
                            <div class="product-info">
                                <strong>MarkPro Whiteboard Marker</strong><br>
                                <span class="label">Price:</span> $3.00<br>
                                <span class="label">Brand:</span> MarkPro<br>
                                <span class="label">Color:</span> Blue<br>
                                <span class="label">Size:</span> Bullet Tip - 2.5mm<br>
                                <span class="label">Special Feature:</span> Non-toxic, water-based, low-odor ink formula, refillable barrel<br>
                                <span class="label">Materials:</span> 100% Recycled Polypropylene, Recycled PET Felt Tip, Recycled PET Cap
                            </div>
                        </label>
                        <div class="sustainability">
                            <span class="sustainability-text">ðŸŒ± Seller is under a sustainability pledge for reducing carbon footprint</span>
                        </div>
                    </div>
                </div>
            </div>

            <h3>Reasoning: Why did you pick this product?</h3>
            <textarea name="Reason3" rows="4" cols="50" placeholder="Explain your choice..." required></textarea><br>

            <div id="total-price">
                <h3>Total Price: $<span id="total">0</span></h3>
            </div>

            <button type="submit">Submit</button>
        </form>
    </div>

    <!-- Modal -->
    <div id="submissionModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <p class="modal-text">Thank you, your answers are recorded. You can close this tab now.</p>
        </div>
    </div>

    <script>
        // Function to calculate the total price
        function updateTotal() {
            let total = 0;
            const selectedItems = document.querySelectorAll('input[type="radio"]:checked');
            selectedItems.forEach(item => {
                total += parseFloat(item.getAttribute('data-price'));
            });
            document.getElementById('total').innerText = total.toFixed(2);
        }

        // Listen for changes to update the total price
        document.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', updateTotal);
        });

        // Handle form submission
        document.getElementById('scenario3-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent form from submitting immediately

            // Collect data
            const furniture3 = document.querySelector('input[name="Selection3F"]:checked').value;
            const tech3 = document.querySelector('input[name="Selection3T"]:checked').value;
            const classroom3 = document.querySelector('input[name="Selection3C"]:checked').value;
            const reasoning3 = document.querySelector('textarea[name="Reason3"]').value;

            // Submit data to Google Sheets
            const formData = new FormData();
            formData.append('Selection3F', furniture3);
            formData.append('Selection3T', tech3);
            formData.append('Selection3C', classroom3);
            formData.append('Reason3', reasoning3);

            fetch('https://script.google.com/macros/s/AKfycbxYBJB_PeBA0441mR_lgeQb1f3KBGO832FFhYKiV2w_WXsO_LOynOUpc3aHHYrfytF6/exec', {
                method: 'POST',
                body: formData
            })
            .then(response => response.text())
            .then(data => {
                // Show modal pop-up
                const modal = document.getElementById('submissionModal');
                modal.style.display = 'block';

                // Close modal when user clicks the "x" button
                document.getElementById('closeModal').onclick = function() {
                    modal.style.display = 'none';
                };
            })
            .catch(error => {
                console.error('Error:', error);
                alert('There was an error submitting the form.');
            });
        });

        // Close modal when clicking outside of it
        window.onclick = function(event) {
            const modal = document.getElementById('submissionModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        };
    </script>
</body>
</html>
